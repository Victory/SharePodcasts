@import org.dfhu.sharepodcasts.viewmodels.*

@args(ListenViewModel vm)


@if (vm.hasShareComment()) {
<div class="well well-margin-top">
    <div class="row">
        <div class="col-xs-12">
            <p vic-time-jumps>
                @raw(vm.getShareComment())
            </p>
        </div>
    </div>
</div>
}

<div class="well well-margin-top">
    <div class="row">
        <div class="col-xs-12">
            <h2>@vm.getEpisode().title
                <small>@vm.getEpisode().showTitle</small>

            </h2>
        </div>
    </div>

    <div class="row">
        <div class="col-xs-12">
            <div vic-audio-box></div>
            <a target="_blank" href="@attr(vm.getEpisode().url)">
                <div id="audio-error" class="alert alert-info hidden">
                    <h3>
                        Click here to play podcast episode directly.
                    </h3>
                </div>
            </a>
            @SocialButtons.template(vm)

        </div>


    </div>
    <div class="row">
        <div class="col-xs-12">
            @vm.cleanDescription()
        </div>
    </div>
    <hr />
    <div class="row">
        <div class="col-xs-12">
            <a href="@attr(vm.getShow().url)" target="_blank">Subscribe <i class="material-icons">&#xE0E5;</i></a>

            @if (! vm.getShow().showUrl.isEmpty()) {
                <span class="info-divider">|</span>
                <a href="@attr(vm.getShow().showUrl)" target="_blank">Website <i class="material-icons">&#xE157;</i></a>
            }
            @if (! vm.getShow().author.isEmpty()) {
                <span class="info-divider">|</span>
                <a href="#" class="null-link">@vm.getShow().author <i class="material-icons">&#xE91F;</i></a>
            }
        </div>
    </div>
    <div class="row">
        <div class="col-xs-12">
            @if (! vm.getShow().copyright.isEmpty()) {
                <a href="#" class="null-link pull-right"><small><i class="material-icons">&#xE90C;</i> @vm.getShow().copyright</small></a>
            }
            @if (vm.getShow().copyright.isEmpty() && ! vm.getShow().author.isEmpty()) {
                <a href="#" class="null-link pull-right">@vm.getShow().author <i class="material-icons">&#xE91F;</i></a>
            }
        </div>
    </div>

</div>



<div class="well well-margin-top">
    <div class="row">
        <div class="col-xs-12 text-center">
            <form action="@attr(route().createShareLink())" method="POST">
                <input type="hidden" name="rowId" value="@attr(vm.getEpisode().id.toString())"/>
                <button type="submit" class="btn btn-sup btn-raised">
                    <i class="material-icons">&#xE8CD;</i>
                    <span>Comment and Share Episode</span>
                    <div class="ripple-container"></div>
                </button>


                <a href="/browse/show/@vm.getShow().id.toString()" class="btn btn-sup btn-raised">
                    <i class="material-icons">&#xE85D;</i>
                    <span>Browse This Show</span>
                    <div class="ripple-container"></div>
                </a>

                <a href="/browse" class="btn btn-sup btn-raised">
                    <i class="material-icons">&#xE85D;</i>
                    <span>Browse All Shows</span>
                    <div class="ripple-container"></div>
                </a>

                <a href="/" class="btn btn-sup btn-raised">
                    <i class="material-icons">&#xE8B6;</i>
                    <span>Search for More Episodes</span>
                    <div class="ripple-container"></div>
                </a>

            </form>
        </div>
    </div>
</div>

